<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="./styles.css">
	<script>

		function validateInput(event){
			let input = document.querySelector("input[name=q]");
			let radio = document.getElementsByName("engine");
			if (input.value === '' || (radio[0].checked === false && radio[1].checked === false && radio[2].checked === false && radio[3].checked === false)) {
			alert("All inputs required");
			event.stopPropagation();
			event.preventDefault();
			}
		}		

		function setSearchEngine(event){
			let form = document.querySelector("form");
			let selected = document.querySelector("input[name=engine]:checked").value;
			let input = document.querySelector("input[name=q]");
			let radio = document.querySelector("input[type=radio]");
			let actions = {
				google: 'https://www.google.com/search?q=',
				duckDuckGo: 'https://duckduckgo.com/?q=',
				bing: 'https://www.bing.com/search?q=',
				ask: 'https://www.ask.com/web?o=0&l=dir&qo=homepageSearchBox&q='
			};
			form.setAttribute("action", actions[selected] + input);
		}
	
    window.addEventListener("load", function(){
		let form = document.querySelector("form");
		}
    );
	</script>
</head>

<body>
	<h1>SEARCH ENGINE SELECTOR</h1>
	<form id="searchForm" action="">
    	<input type="text" name="q"/>
		<label for="google">Google</label>
			<input onclick="setSearchEngine(event);" class="radio" type="radio" name="engine" id="google" value="google"/>
		<label for="duckDuckGo">DuckDuckGo</label>
			<input onclick="setSearchEngine(event);" class="radio" type="radio" name="engine" id="duckDuckGo" value="duckDuckGo"/>
		<label for="bing">Bing</label>
			<input onclick="setSearchEngine(event);" class="radio" type="radio" name="engine" id="bing" value="bing"/>
		<label for="ask">Ask</label>
			<input onclick="setSearchEngine(event);" class="radio" type="radio" name="engine" id="ask" value="ask"/>
		<button value="Go!" onclick="validateInput(event);">Go!</button>
	</form>

</body>
</html>